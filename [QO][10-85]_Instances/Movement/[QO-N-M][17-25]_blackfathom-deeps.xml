<HBProfile creator="Botanist + Wigglez" version="1.0">
	<Name>[QO-N-M][17-25]_blackfathom-deeps</Name>
   
	<MinLevel>1</MinLevel>
	<MaxLevel>101</MaxLevel>
   
	<MinDurability>0.2</MinDurability>
	<MinFreeBagSlots>0</MinFreeBagSlots>
	
	<MailGrey>False</MailGrey>
	<MailWhite>False</MailWhite>
	<MailGreen>False</MailGreen>
	<MailBlue>False</MailBlue>
	<MailPurple>False</MailPurple>
   
	<SellGrey>False</SellGrey>
	<SellWhite>False</SellWhite>
	<SellGreen>False</SellGreen>
	<SellBlue>False</SellBlue>
	<SellPurple>False</SellPurple>
   
	<TargetElites>True</TargetElites>
	
	<AvoidMobs>
		<Mob Name="Summon Enabler Stalker" Entry="53488" />	
	</AvoidMobs>
	
	<Blackspots>
		<Blackspot X="3002.708" Y="-4146.23" Z="101.4122" Radius="5" />
		<Blackspot X="-311.9305" Y="73.58769" Z="-53.34798" Radius="6.041618" />
		<Blackspot X="-354.1103" Y="35.91866" Z="-59.80756" Radius="10" />
		<Blackspot X="-151.5376" Y="396.4401" Z="-37.62136" Radius="3" />
	</Blackspots>
	
	<Mailboxes>
	</Mailboxes>
 
	<Vendors>
	</Vendors>

	<Factions>
	</Factions>
	
	<ProtectedItems>	
	</ProtectedItems>
	
	<QuestOrder>
		<ClearVendor />
		<ClearMailbox />
		
		
		<!-- Booster -->
		<If Condition="Me.Level == 90">
		
			<!-- Booster UseerSettings -->
			<CustomBehavior File="UserSettings" 
							LootMobs="False" 
							SkinMobs="False" 
							LootRadius="1" 
							LootChests="False" 
							PullDistance="45" 
							KillBetweenHotspots="True" 
							FindVendorsAutomatically="False"
							LogoutForInactivity="False"	/>
						
			<!-- Are we in the instance box and is our gears durability ok -->		
			<If Condition="Me.X &gt; 4230 &amp;&amp; Me.X &lt; 4270 &amp;&amp; Me.Y &lt; 760 &amp;&amp; Me.Y &gt; 720" >
				<If Condition="Me.LowestDurabilityPercent &lt; 0.1" >
					<CustomBehavior File="UserDialog" 
									AllowBotStop="False" 
									SoundCue="Exclamation" 
									SoundCueInterval="15" 
									ExpiryTime="60"
									ExpiryAction="InputEnabled_Continue" 
									Text="Main Character - I have detected that my gear is about to break. I need to repair. You can stop the bot to manually repair or press continue to use the automated features." 	
									Title="WARNING" />	

					<!-- If we have our Hearthstone, use it -->
					<If Condition="HasItem(6948)">
						<CustomBehavior File="Misc\RunLua" 
										Lua="UseItemByName(6948)" 
										WaitTime="1000" />
						
						<!-- Otherwise use the Innkeeper's Daughter -->
						<Else>
							<CustomBehavior File="Misc\RunLua" 
											Lua="UseItemByName(64488)" 
											WaitTime="1000" />
						</Else>
					</If>	
					
					<!-- Waiting for the loading screen -->
					<CustomBehavior File="WaitTimer" 
									WaitTime="20000" />
					
					<!-- If we are in Ahenvale,  repair -->
					<If Condition="Me.ZoneId == 331" >
						<CustomBehavior File="ForceSetVendor" 
										DoMail="False" 
										DoRepair="True" 
										DoSell="False" 
										DoTrain="False" />
										
						<CustomBehavior File="Message" 
										Text="Successfully hearthed, moving to the repair vendor." 
										LogColor="Fuchsia" />
						
						<If Condition="Me.IsAlliance" >									
							<SetVendor>
								<Vendors>
									<!-- Astranaar -->
									<Vendor Name="Xai'ander" 
											Entry="11137" 
											Type="Repair" 
											X="2672.308" Y="-363.6043" Z="110.7277" />
								</Vendors>
							</SetVendor>
							
							<!-- We are done vendoring -->
							<If Condition="Me.DurabilityPercent &gt; 0.8" >
								<CustomBehavior File="Message" 
												Text="Repairing complete, moving back to Blackfathom Deeps." 
												LogColor="Fuchsia" />
								
								<!-- Run outside the vendor building -->
								<RunTo X="2730.185" Y="-368.3259" Z="107.1429" />
								<CustomBehavior File="ForcedMount" 
												MountType="Flying" />
								
								<!-- Fly up above the camp -->
								<CustomBehavior File="FlyTo" 
												X="2753.529" Y="-355.3454" Z="176.8568" />
							</If>
							
							<ElseIf Condition="Me.IsHorde" >												
								<SetVendor>
									<Vendors>
										<!-- Zoram'gar Outpost-->
										<Vendor Name="Toral" 
												Entry="43615" 
												Type="Repair" 
												X="3319.01" Y="1040.83" Z="4.057311" />
									</Vendors>
								</SetVendor>
								
								<!-- We are done vendoring -->
								<If Condition="Me.DurabilityPercent &gt; 0.8" >
									<CustomBehavior File="Message" 
													Text="Repairing complete, moving back to Blackfathom Deeps." 
													LogColor="Fuchsia" />
									
									<!-- Run outside the vendor building -->
									<RunTo X="3347.737" Y="1020.834" Z="3.562047" />
									<CustomBehavior File="ForcedMount" 
													MountType="Flying" />
									
									<!-- Fly up above the camp -->
									<CustomBehavior File="FlyTo" 
													X="3367.091" Y="1018.285" Z="59.13772" />
								</If>
							</ElseIf>
						</If>
						
						<!-- Fly above stairs leading to BFD -->
						<CustomBehavior File="FlyTo" 
										X="4081.023" Y="850.1998" Z="58.13429" />
						
						<!-- CTM to the stairs at the entrance -->
						<CustomBehavior File="MyCTM" 
										X="4126.021" Y="864.3951" Z="9.704142" />
						
						<!-- Run to waters edge -->
						<RunTo X="4154.48" Y="869.1308" Z="-18.11675" />
						
						<!-- CTM through the water to the other side -->
						<CustomBehavior File="MyCTM" 
										X="4159.362" Y="888.0648" Z="-23.53469" />
						<CustomBehavior File="MyCTM" 
										X="4159.373" Y="918.5477" Z="-16.95678" />
						
						<!-- Run to the instance box -->
						<RunTo X="4248.14" Y="745.047" Z="-24.4963" />
					</If>
				</If>	
			</If>	
			
		
			<!-- Alliance in EK, move to SW docks-->
			<If Condition="Me.MapId == 0" >
				<If Condition="Me.Alliance" >
					<CustomBehavior File="Message" 
									Text="Moving to the Stormwind Docks." 
									LogColor="Lime" />
					<CustomBehavior File="FlyTo" 
									X="-8644.193" Y="1327.927" Z="5.536721" />
					<CustomBehavior File="ForcedDismount" />
					
					<!-- Taking the boat to Darnassus -->
					<CustomBehavior File="FlyTo" 
									X="-8644.193" Y="1327.927" Z="5.536721" />
					<CustomBehavior File="ForcedDismount" />				
					<CustomBehavior File="Message" 
									Text="Waiting for the boat to Darnassus." 
									LogColor="Lime" />
					<CustomBehavior File="UseTransport" 
									TransportId="176310" 
									WaitAtX="-8644.193" 
									WaitAtY="1327.927" 
									WaitAtZ="5.536721"								
									TransportStartX="-8650.719" 
									TransportStartY="1346.051" 
									TransportStartZ="0.012419"								
									StandOnX="-8644.946" 
									StandOnY="1348.325" 
									StandOnZ="6.110394"
									TransportEndX="8162.587" 
									TransportEndY="1005.365" 
									TransportEndZ="-0.0382334"	
									GetOffX="8178.897" 
									GetOffY="1002.434" 
									GetOffZ="6.812055" />								
					<CustomBehavior File="WaitTimer" 
									WaitTime="1000" />
					
					<!-- Intersection at Rut'theran Village -->
					<RunTo X="8267.021" Y="986.3497" Z="8.13516" />
					
					<!-- Rut'theran Village flight master -->
					<RunTo X="8377.947" Y="981.9948" Z="29.86343" />
					
					<!-- Disabling UseMount to force use of the flight master -->
					<CustomBehavior File="UserSettings"
									UseMount="False" />
									
					<!-- Forced use of the flight master to lor' danel, darkshore -->
					<RunTo X="7459.9" Y="-326.56" Z="8.089962" />
			
					<!-- Enabling UseMount -->
					<CustomBehavior File="UserSettings"
									UseMount="True"	/>
									
					<!-- Checking hearth location  -->
						
					
					<If Condition="Me.HearthstoneAreaId != 415" >
					
						<!-- Fly to the hover point above the innkeep in Astranaar -->
						<CustomBehavior File="FlyTo" 
										X="3373.338" Y="988.2792" Z="36.89017" />
										
						<!-- front doorway of the inn -->
						<CustomBehavior File="FlyTo" 
										X="2734.027" Y="-398.2517" Z="107.9804" />							
						<CustomBehavior File="ForcedDismount" />
						
						<!-- Run inside the inn -->
						<RunTo X="2776.844" Y="-430.8567" Z="116.5795" />
						
						<!-- Set hearthstone -->
						<CustomBehavior File="WaitTimer" 
										WaitTime="1000" />
						<CustomBehavior File="Message" 
										Text="Setting my Hearthstone." 
										LogColor="Lime" />
						<CustomBehavior File="WaitTimer" 
										WaitTime="1000" />
						<CustomBehavior File="SetHearthstone" 
										MobId="6738" 
										X="2781.156" Y="-432.9972" Z="116.5812" />
						<CustomBehavior File="WaitTimer" 
										WaitTime="1000" />
						
						<!-- Run outside the inn -->
						<RunTo X="2734.027" Y="-398.2517" Z="107.9804" />
						
						<!-- ForcedMount, and fly above the village -->
						<CustomBehavior File="ForcedMount"
										MountType="Flying" />
						<CustomBehavior File="FlyTo" 
										X="2732.895" Y="-369.8049" Z="187.9785" />
					</If>
					
					<!-- Horde in Kalimdor, Zoram'gar Outpost -->
					<ElseIf Condition="Me.MapId == 1" >
						<If Condition="Me.IsHorde" >
						
							<!-- Checking hearth location  -->
							<If Condition="Me.HearthstoneAreaId != 415" >
							
								<!-- Fly to the hover point above the innkeep in Zoram'gar Outpost -->
								<CustomBehavior File="FlyTo" 
												X="3373.338" Y="988.2792" Z="36.89017" />
												
								<!-- front doorway of the inn -->				
								<CustomBehavior File="FlyTo" 
												X="3364.353" Y="968.8149" Z="7.404068" />				
								<CustomBehavior File="ForcedDismount" />
								
								<!-- Run inside the inn -->
								<RunTo X="3360.768" Y="953.8776" Z="7.404068" />
								
								<!-- Set hearthstone -->
								<CustomBehavior File="WaitTimer" 
												WaitTime="1000" />
								<CustomBehavior File="Message" 
												Text="Setting my Hearthstone." 
												LogColor="Lime" />
								<CustomBehavior File="WaitTimer" 
												WaitTime="1000" />
								<CustomBehavior File="SetHearthstone" 
												MobId="43606" 
												X="3360.08" Y="950.816" Z="7.404466" />
								<CustomBehavior File="WaitTimer" 
												WaitTime="1000" />
								
								<!-- Run outside the inn -->
								<RunTo X="3364.353" Y="968.8149" Z="7.404068" />
								
								<!-- ForcedMount, and fly above the village -->
								<CustomBehavior File="ForcedMount"
												MountType="Flying" />
								<CustomBehavior File="FlyTo" 
												X="3373.338" Y="988.2792" Z="36.89017" />
							</If>
						</If>
					</ElseIf>
				</If>
			</If>
			
			<!-- Fly to the rendezvous location -->
			<CustomBehavior File="FlyTo" 
							X="3957.003" Y="692.6785" Z="30.52476" />
			
			<!-- Userdialog for wait timer at the rendezvous location -->
			<CustomBehavior File="UserDialog" 
							AllowBotStop="False" 
							SoundCue="Exclamation" 
							SoundCueInterval="15" 
							ExpiryAction="InputEnabled_Continue" 
							Text="Main Character - Wait for all your characters to reach this location, then press continue on this window first, then press continue on the RAF characters. The booster will clear a path to Wailing Caverns." 
							Title="WARNING" />

			<!-- Movement from rendezvous to the instance box, universal-->				
		</If>			
				
	<!-- ******************************************************* RAF Toons *************************************************************** -->			
				
		<!-- RAF Toons -->	
		<If Condition="Me.Level &lt;= 85">
		
			<!-- RAF UseerSettings -->
			<CustomBehavior File="UserSettings"
							UseMount="True"
							UseFlightPaths="False"
							LootMobs="False" 
							SkinMobs="False" 
							LootRadius="1" 
							LootChests="False" 
							PullDistance="1" 
							KillBetweenHotspots="False" 
							FindVendorsAutomatically="False"
							LogoutForInactivity="False"	/>
		
			<If Condition="Me.Alliance" >
		
				<!--Moving to the stormwind docks -->
				<RunTo X="-8644.193" Y="1327.927" Z="5.536721" />
				
				<!-- Taking the boat to Darnassus -->
				<CustomBehavior File="Message" 
								Text="Waiting for the boat to Darnassus." 
								LogColor="Lime" />
				<CustomBehavior File="UseTransport" 
								TransportId="176310" 
								WaitAtX="-8644.193" 
								WaitAtY="1327.927" 
								WaitAtZ="5.536721"								
								TransportStartX="-8650.719" 
								TransportStartY="1346.051" 
								TransportStartZ="0.012419"								
								StandOnX="-8644.946" 
								StandOnY="1348.325" 
								StandOnZ="6.110394"
								TransportEndX="8162.587" 
								TransportEndY="1005.365" 
								TransportEndZ="-0.0382334"	
								GetOffX="8178.897" 
								GetOffY="1002.434" 
								GetOffZ="6.812055" />								
				<CustomBehavior File="WaitTimer" 
								WaitTime="1000" />
				
				<!-- Intersection at Rut'theran Village -->
				<RunTo X="8267.021" Y="986.3497" Z="8.13516" />
				
				<!-- Rut'theran Village flight master -->
				<RunTo X="8377.947" Y="981.9948" Z="29.86343" />
				
				<!-- Disabling UseMount to force use of the flight master -->
				<CustomBehavior File="UserSettings"
								UseMount="False" />
								
				<!-- Forced use of the flight master to lor' danel, darkshore -->
				<RunTo X="7459.9" Y="-326.56" Z="8.089962" />
		
				<!-- Enabling UseMount -->
				<CustomBehavior File="UserSettings"
								UseMount="True"	/>
								
				<!-- Running to Grove of the Ancients -->
				<RunTo X="4970.5" Y="147.65" Z="51.64" />
				
				<!-- Running to Blackfathom Camp -->
				<RunTo X="3880.51" Y="654.16" Z="10.45658" />
				
				<!-- Moving to the summoning stone -->
				<RunTo X="3922.324" Y="681.3928" Z="6.508515" />
				<CustomBehavior File="RunLikeHell" 
								UseCTM="true" 
								NumOfTimes="1" 
								AllowCombat="false">	
					<Hotspot X="3956.749" Y="692.3346" Z="6.827947" />		
				</CustomBehavior>
			
				<ElseIf Condition="Me.IsHorde" >
			
					<!--Moving to the Crossroads -->
					<RunTo X="-439.4449" Y="-2598.785" Z="95.84019" />
					
					<!-- Moving to Mor'shan Rampart flight master-->
					<RunTo X="1206.031" Y="-2209.855" Z="92.1406" />
					
					<!-- Moving to Splintertree Post flight master -->
					<RunTo X="2302.39" Y="-2524.55" Z="104.2812" />
					
					<!-- Moving to Silverwind flight master -->
					<RunTo X="2159.62" Y="-1144.05" Z="97.87" />
			
					<!-- Moving to Hellscream's Watch flight master -->
					<RunTo X="3049.08" Y="-498.95" Z="205.6398" />
					
					<!-- Moving to Zoram'gar flight master -->
					<RunTo X="3351.82" Y="1052.3" Z="3.07" />
					
					<!-- Moving to the intersection sign post -->
					<RunTo X="3520.993" Y="554.2925" Z="5.413744" />
					
					<!-- Moving to the summoning stone -->
					<CustomBehavior File="RunLikeHell" 
									UseCTM="true" 
									NumOfTimes="1" 
									AllowCombat="false">	
						<Hotspot X="3575.518" Y="571.2593" Z="5.383583" />
						<Hotspot X="3647.676" Y="612.2073" Z="4.45191" />
						<Hotspot X="3756.413" Y="635.8791" Z="6.045148" />
						<Hotspot X="3803.914" Y="616.6727" Z="3.882689" />
						<Hotspot X="3823.592" Y="589.6508" Z="4.524016" />
						<Hotspot X="3862.987" Y="576.3364" Z="4.885626" />
						<Hotspot X="3873.321" Y="561.7687" Z="7.170208" />
						<Hotspot X="3950.96" Y="580.4005" Z="17.22244" />
						<Hotspot X="3964.858" Y="662.6644" Z="8.034729" />
						<Hotspot X="3956.749" Y="692.3346" Z="6.827947" />	
					</CustomBehavior>
				</ElseIf>
			</If>	
			
			<!-- Userdialog to for rendezvous -->
			<CustomBehavior File="UserDialog" 
							AllowBotStop="False" 
							SoundCue="Exclamation" 
							SoundCueInterval="15" 
							ExpiryAction="InputEnabled_Continue" 	
							Text=" RAF Character - Press continue when all the toons have reached this location. The booster will clear a path to the instance." 
							Title="WARNING" />
							
			<!-- Wait timer to allow the 90 to clear the entrance to Blackfathom Deeps -->
				<CustomBehavior File="Message" 
								Text="Waiting 90 seconds for the booster to begin clearing a path to BFD." 
								LogColor="Lime" />	
				<CustomBehavior File="WaitTimer" 
								WaitTime="90000" />

				<!-- Movement from the rendezvous to the instance box, universal-->
								
								
			<!-- Inside the instance box, load the Blackfathom Deeps profile -->
			<If Condition="Me.X &gt; 4230 &amp;&amp; Me.X &lt; 4270 &amp;&amp; Me.Y &lt; 760 &amp;&amp; Me.Y &gt; 720" >
				<CustomBehavior File="LoadProfile" 
								ProfileName="..\[QO-N][17-25]_blackfathom-deeps" />
			</If>
		</If>
	</QuestOrder>
</HBProfile>

